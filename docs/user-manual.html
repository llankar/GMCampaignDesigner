<html><head><meta charset='utf-8'><title>GMCampaignDesigner User Manual</title><link rel='stylesheet' href='user-manual.css'></head><body><header><h1>GMCampaignDesigner User Manual</h1></header><nav><a href='#getting-started'>Getting Started</a><a href='#sidebar-accordion'>Sidebar Accordion</a><a href='#entity-managers'>Entity Managers</a><a href='#detail-windows'>Detail Windows</a><a href='#editor-tools'>Editor Tools</a><a href='#graph-editors'>Graph Editors</a><a href='#gm-screen'>GM Screen</a><a href='#scenario-tools'>Scenario Tools</a><a href='#scene-flow'>Scene Flow</a><a href='#map-tool'>Map Tool</a><a href='#whiteboard'>Whiteboard</a><a href='#world-map'>World Map</a><a href='#dice-roller'>Dice Roller</a><a href='#audio-&-music'>Audio &amp; Music</a><a href='#books'>Books</a><a href='#tips'>Tips</a></nav><div class='container'><section><h2 id='getting-started'>Getting Started</h2><ul><li>Launch the app: <code>python main_window.py</code>.</li><li>Open <b>Data & System &rarr; Change Data Storage</b> to launch the database manager and choose or create a campaign.</li><li>Populate PCs, NPCs, Creatures, Places, Objects, Informations, Clues, and Maps.</li></ul><figure class='shot'><img class='manual-shot' src='images/main_window.png' alt='Main window overview' /><figcaption>Main window overview</figcaption></figure></section><section><h2 id='sidebar-accordion'>Sidebar Accordion</h2><p>The sidebar groups every command inside collapsible sections. Hover a blue header to expand its button grid; moving the pointer away collapses it after a short delay. The Campaign Workshop section reopens automatically when idle.</p><h3>Data & System</h3><p>Switch between campaign databases and configure global integrations.</p><ul><li><b>Change Data Storage</b>: Open the database manager to select, create, or browse for campaign files.</li><li><b>Set SwarmUI Path</b>: Point the portrait generator at your SwarmUI installation.</li><li><b>Customize Fields</b>: Open the custom field editor (see Editor Tools).</li></ul><h3>Campaign Workshop</h3><p>Access every entity manager from a single place.</p><ul><li><b>Manage Scenarios</b>: Maintain adventure outlines and summaries.</li><li><b>Manage NPCs / PCs / Creatures</b>: Track cast members, their traits, and portraits.</li><li><b>Manage Places, Factions, Objects, Informations, Clues, Books, Maps</b>: Open the corresponding list view.</li></ul><h3>Relations & Graphs</h3><p>Open visual editors to map relationships between entities.</p><ul><li><b>NPC / PC / Faction / Scenario Graph Editor</b>: Launch the graph workspace focused on that entity type.</li></ul><h3>Utilities</h3><p>Launch helper tools for session prep and presentation.</p><ul><li><b>Generate Scenario</b>, <b>Scenario Builder Wizard</b>, and <b>AI Wizard</b>: Automate outline or content generation.</li><li><b>Import Scenario</b>: Map external documents into campaign data.</li><li><b>GM Screen</b>, <b>Scene Flow Viewer</b>, <b>World Map</b>, and <b>Map Tool</b>: Present scenario details or share battle/world maps.</li><li><b>Dice Bar</b> and <b>Open Dice Roller</b>: Quick always-on-top roller and full formula roller.</li><li><b>Sound &amp; Music Manager</b> and <b>Audio Controls Bar</b>: Organize playlists and control playback.</li><li><b>Export Scenarios</b> / <b>Export for Foundry</b>: Produce shareable outputs.</li></ul></section><section><h2 id='entity-managers'>Entity Managers</h2><p>Expand <b>Campaign Workshop</b> and click a manager button to open the list view. Each view supports column sorting, instant filtering, grouping, and rich editing:</p><ul><li><b>Quick edit:</b> Double-click a row to launch the Generic Editor window. Use the toolbar buttons to add new entries.</li><li><b>Right-click options:</b> Duplicate, delete, recolor rows, show portraits, export data, or send a card to the second screen.<ul><li>Open Book</li><li>Extract Pages...</li><li>Edit Details...</li><li>Edit...</li><li>Open in GM Screen</li><li>Display on Second Screen</li><li>Show Portrait</li><li>Copy</li><li>Paste</li><li>Delete</li><li>Clear Color</li><li>Play Audio</li><li>Stop Audio</li><li>Link to Scenario...</li><li>Add to GM Screen...</li><li>Columns...</li><li>Display Fields...</li><li>Open Excerpt</li><li>Row Color</li></ul></li><li><b>Import/Export:</b> Use the dedicated buttons to load or save JSON, or open the AI Wizard for assisted authoring.</li><li><b>Second screen:</b> Display selected fields on a player-facing monitor from the context menu.</li></ul><p><b>Clues board:</b> Right-click a clue card for: Edit Clue, Delete Clue. Right-click a link for: Add Link, Delete Link.</p><figure class='shot'><img class='manual-shot' src='images/entity_scenarios.png' alt='Scenarios manager' /><figcaption>Scenarios manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_pcs.png' alt='Pcs manager' /><figcaption>Pcs manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_npcs.png' alt='Npcs manager' /><figcaption>Npcs manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_creatures.png' alt='Creatures manager' /><figcaption>Creatures manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_factions.png' alt='Factions manager' /><figcaption>Factions manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_places.png' alt='Places manager' /><figcaption>Places manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_objects.png' alt='Objects manager' /><figcaption>Objects manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_informations.png' alt='Informations manager' /><figcaption>Informations manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_clues.png' alt='Clues manager' /><figcaption>Clues manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/entity_maps.png' alt='Maps manager' /><figcaption>Maps manager</figcaption></figure></section><section><h2 id='detail-windows'>Detail Windows</h2><p><b>EntityDetailFactory</b> renders rich detail viewsâ€”used inside the GM Screen and any pop-out detail window. Select a scenario and choose <i>Open in GM Screen</i> (from the scenario list) or open the GM Screen from Utilities, then pick a tab to see the structured layout with collapsible scenes, linked NPC tables, and quick navigation.</p><p>The preview below shows the standalone layout with an <b>Edit</b> button that reopens the Generic Editor for the same record.</p><figure class='shot'><img class='manual-shot' src='images/scenario_detail.png' alt='Scenario detail view' /><figcaption>Scenario detail view</figcaption></figure></section><section><h2 id='editor-tools'>Editor Tools</h2><p>The <b>Generic Editor</b> window opens when you add or double-click an item. Fields are generated from the active template and include quick actions:</p><ul><li><b>Action bar:</b> Save, cancel, and scenario-aware AI buttons appear based on the entity type.</li><li><b>Rich text:</b> Long-form fields use the RichTextEditor with inline toolbars and AI helpers.</li><li><b>Linked lists:</b> Multiselect comboboxes let you associate NPCs, Places, Factions, and more.</li><li><b>Portraits & files:</b> Manage artwork attachments directly from the editor.</li></ul><figure class='shot'><img class='manual-shot' src='images/scenario_editor.png' alt='Generic Editor window' /><figcaption>Generic Editor window</figcaption></figure><p>Use <b>Data & System &rarr; Customize Fields</b> to tailor the schema per entity. The editor below lets you add new fields, set types, and choose linked entities.</p><figure class='shot'><img class='manual-shot' src='images/custom_fields_editor.png' alt='Custom Fields Editor' /><figcaption>Custom Fields Editor</figcaption></figure></section><section><h2 id='graph-editors'>Graph Editors</h2><p>Visual editors for NPCs, PCs, Factions, and Scenarios let you map relationships and story beats.</p><ul><li><b>Add nodes:</b> Use the toolbar actions or double-click (where available) to create a node.</li><li><b>Drag to arrange:</b> Left-click and drag nodes to reposition; mouse wheel zooms the canvas.</li><li><b>Create links:</b> Select a source node, then a target node, and enter link text when prompted.</li></ul><p><b>Right-click a node for:</b></p><ul><li>Delete Node</li><li>Change Color</li><li>Display Portrait Window</li><li>Display Portrait</li></ul><p><b>Right-click a link for:</b></p><ul><li><b>Arrow Mode submenu:</b> No Arrows, Arrow at Start, Arrow at End, Arrows at Both Ends, Arrow Mode</li></ul><p><b>Right-click a shape for:</b></p><ul><li>Delete Shape</li></ul><figure class='shot'><img class='manual-shot' src='images/npc_graph.png' alt='NPC Graph' /><figcaption>NPC Graph</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/pc_graph.png' alt='PC Graph' /><figcaption>PC Graph</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/faction_graph.png' alt='Faction Graph' /><figcaption>Faction Graph</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/scenario_graph.png' alt='Scenario Graph' /><figcaption>Scenario Graph</figcaption></figure></section><section><h2 id='gm-screen'>GM Screen</h2><p>The GM Screen consolidates scenario prep: select a scenario to open tabs for NPCs, Places, scenes, and notes. Use <code>Ctrl+F</code> for instant search, toggle the PC banner for quick reference, and click any linked entity to open its detail frame.</p><figure class='shot'><img class='manual-shot' src='images/gm_screen.png' alt='GM Screen overview' /><figcaption>GM Screen overview</figcaption></figure></section><section><h2 id='scenario-tools'>Scenario Tools</h2><p>Scenario toolkit for rapid authoring:</p><ul><li><b>Scenario Builder Wizard:</b> Plan scenes step-by-step, link NPCs/Places/Maps, and preview a scene flow before saving.</li><li><b>Scenario Generator:</b> Configure prompts and let the AI draft outline sections you can review and tweak.</li><li><b>Scenario Importer:</b> Map headings from external documents into template fields before saving.</li></ul><figure class='shot'><img class='manual-shot' src='images/scenario_builder.png' alt='Scenario Builder Wizard' /><figcaption>Scenario Builder Wizard</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/scenario_generator.png' alt='Scenario Generator' /><figcaption>Scenario Generator</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/scenario_importer.png' alt='Scenario Importer' /><figcaption>Scenario Importer</figcaption></figure></section><section><h2 id='scene-flow'>Scene Flow</h2><p>Visualize your scenario as a flow of scenes and links. Drag nodes to rearrange, connect scenes with labeled links, and preview the structure before a session.</p><ul><li><b>Open:</b> Utilities &rarr; Open Scene Flow Viewer (or add a tab inside the GM Screen).</li><li><b>Nodes & links:</b> Create, rename, colorize scenes; add directional links with labels.</li><li><b>Layout:</b> Pan and zoom the canvas; arrange scenes for readability.</li></ul><figure class='shot'><img class='manual-shot' src='images/scene_flow_viewer.png' alt='Scene Flow Viewer' /><figcaption>Scene Flow Viewer</figcaption></figure></section><section><h2 id='map-tool'>Map Tool</h2><p>The Map Tool opens in its own window so you can prep encounters while the campaign lists stay visible. Use the selector view to choose or import a battle map, then switch to the editor to reveal fog, drop tokens, and broadcast to players.</p><ul><li><b>Map selector:</b> Browse the maps table, double-click to load, or right-click to import directories of images.</li><li><b>Fog of war:</b> Paint additive or subtractive fog with brush shortcuts (<code>[</code>/<code>]</code>) and reset the mask with a single click.</li><li><b>Tokens & auras:</b> Add NPC, PC, or creature tokens, colour their borders, track HP overlays, and duplicate or delete entries through the context menu.</li><li><b>Drawing tools:</b> Switch between Token, Rectangle, and Oval modes to sketch zones, spell areas, or light auras with filled/outline styles; add editable text labels and tweak drawing colours.</li><li><b>Background rotation:</b> Rotate the map image from the toolbar; rotation is saved with the background for consistent sharing/exports.</li><li><b>Broadcast & sync:</b> Mirror the current map to fullscreen or the web client; pan and zoom updates are pushed live.</li></ul><p><b>Token right-click includes:</b></p><ul><li>Show Portrait</li></ul><p><b>Shape right-click includes:</b></p><ul><li>Edit Shape Graphically</li></ul><figure class='shot'><img class='manual-shot' src='images/map_tool_selector.png' alt='Map Tool selector' /><figcaption>Map Tool selector</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/map_tool_map1.png' alt='Map Tool - urban encounter' /><figcaption>Map Tool - urban encounter</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/map_tool_map2.png' alt='Map Tool - mystical ruins' /><figcaption>Map Tool - mystical ruins</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/map_tool_rectangle.png' alt='Rectangle tool options' /><figcaption>Rectangle tool options</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/map_tool_oval.png' alt='Oval tool options' /><figcaption>Oval tool options</figcaption></figure></section><section><h2 id='whiteboard'>Whiteboard</h2><p>The Whiteboard gives you a synchronized canvas for prep and live collaboration. Use it in the GM view, pop a player view to a second screen, or share a web link/QR code.</p><ul><li><b>Tools:</b> Pen, eraser, stamps, and editable text (double-click to edit); pick colours, sizes, and layers.</li><li><b>Layers & grid:</b> Toggle shared/GM layers, enable grid overlay, and snap strokes or stamps to the grid.</li><li><b>Pan & zoom:</b> Middle-drag to pan, mouse wheel to zoom; the canvas extends infinitely.</li><li><b>Save/load:</b> Whiteboard states are stored in the database with autosave; load previous boards instantly.</li><li><b>Player view:</b> Open a fullscreen view on another monitor or share via QR/link for remote collaboration.</li></ul><figure class='shot'><img class='manual-shot' src='images/whiteboard.png' alt='Whiteboard' /><figcaption>Whiteboard</figcaption></figure></section><section><h2 id='world-map'>World Map</h2><p>The World Map window lets you navigate nested maps, place NPC/PC/Creature/Place tokens, and drill down to regional maps while reviewing a compact inspector for the selected entity.</p><ul><li><b>Open:</b> Utilities &rarr; Open World Map (or from the GM Screen via <i>Add Panel &rarr; World Map</i>).</li><li><b>Select map:</b> Load an existing entry or create a new one and assign a background image.</li><li><b>Tokens:</b> Add NPCs, PCs, Creatures, Places, and Maps as pins. Selecting a Map token opens its child map.</li><li><b>Pan &amp; zoom:</b> Middle-drag to pan; mouse wheel to zoom. View state persists per map.</li><li><b>Inspector:</b> Click a token to view summary, notes, and quick stats; switch tabs to review more context.</li></ul><figure class='shot'><img class='manual-shot' src='images/world_map.png' alt='World Map' /><figcaption>World Map</figcaption></figure></section><section><h2 id='dice-roller'>Dice Roller</h2><p>Use the full Dice Roller for formula-based rolls with polyhedral previews, or the compact Dice Bar for always-on-top quick rolls.</p><ul><li><b>Open:</b> Utilities &rarr; Dice Bar and Utilities &rarr; Open Dice Roller.</li><li><b>System presets:</b> Supported dice and default formulas adapt to the selected campaign system.</li><li><b>Formula entry:</b> Build expressions (e.g., <code>2d20+5</code>), double-click presets to add dice, press Enter or click Roll.</li><li><b>Exploding:</b> Toggle exploding dice to reroll max results.</li><li><b>Results &amp; history:</b> See grouped breakdowns and totals; recent rolls are logged for reuse.</li></ul><figure class='shot'><img class='manual-shot' src='images/dice_roller.png' alt='Dice Roller' /><figcaption>Dice Roller</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/dice_bar.png' alt='Dice Bar' /><figcaption>Dice Bar</figcaption></figure></section><section><h2 id='audio-&-music'>Audio & Music</h2><p>Organize and play background music and sound effects, with persistent playlists per section.</p><ul><li><b>Open:</b> Utilities &rarr; Sound &amp; Music Manager. Use tabs for Music, Ambience, and SFX.</li><li><b>Library:</b> Create types, add files or entire folders, rescan, and remove tracks.</li><li><b>Playback:</b> Play/Pause, Next/Prev, volume, and per-section loop. Last playlist and loop settings are restored.</li><li><b>AI Sorting:</b> Optionally categorize folders with local AI (if configured).</li><li><b>Audio Controls Bar:</b> Utilities &rarr; Audio Controls Bar opens a compact always-on-top controller.</li></ul><figure class='shot'><img class='manual-shot' src='images/sound_manager.png' alt='Sound & Music Manager' /><figcaption>Sound & Music Manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/audio_bar.png' alt='Audio Controls Bar' /><figcaption>Audio Controls Bar</figcaption></figure></section><section><h2 id='books'>Books</h2><p>Store and browse PDFs tied to your campaign. Imported books are indexed so you can search and reference excerpts.</p><ul><li><b>Open:</b> Campaign Workshop &rarr; Manage Books.</li><li><b>Import:</b> Add individual PDFs or a whole folder. Indexing runs in the background.</li><li><b>View:</b> Double-click a row or choose <i>Open Book</i> to launch the viewer. Use page navigation, zoom, and find (Prev/Next).</li><li><b>Excerpts:</b> Export page ranges to <code>assets/books/excerpts</code>; excerpts appear in the <b>Excerpts</b> column for quick access.</li></ul><figure class='shot'><img class='manual-shot' src='images/entity_books.png' alt='Books Manager' /><figcaption>Books Manager</figcaption></figure><figure class='shot'><img class='manual-shot' src='images/book_viewer.png' alt='Book Viewer' /><figcaption>Book Viewer</figcaption></figure></section><section><h2 id='tips'>Tips</h2><div class='tip'><b>Screenshots:</b> Run <code>python scripts/generate_docs.py</code> to refresh this manual after UI changes.</div><div class='tip'><b>Exports:</b> Use <i>Export Scenarios</i> or <i>Export for Foundry</i> (Utilities section) to share content.</div><div class='tip'><b>Portrait workflow:</b> Generate or link portraits from the Utilities section; double-click a portrait in any list to pop it out.</div></section></div></body></html>